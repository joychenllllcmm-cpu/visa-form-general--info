<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç­¾è¯ç”³è¯·è¯„ä¼°ç™»è®°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #f1f5f9; -webkit-tap-highlight-color: transparent; }
        .card { background: white; border-radius: 1.5rem; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
        .opt-btn { border: 1.5px solid #e2e8f0; transition: all 0.2s; background: #fff; color: #475569; }
        .opt-btn.active { border-color: #2563eb; background: #eff6ff; color: #1d4ed8; font-weight: 600; }
        .multi-btn { border: 1.5px solid #e2e8f0; transition: all 0.2s; background: #fff; color: #475569; }
        .multi-btn.selected { border-color: #10b981; background: #ecfdf5; color: #065f46; font-weight: 600; }
        input[type="range"] { accent-color: #2563eb; }
        .sticky-bar { position: sticky; bottom: 0; background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); margin: 0 -1.5rem -1.5rem -1.5rem; padding: 1.25rem; border-top: 1px solid #e2e8f0; }
    </style>
</head>
<body class="p-4 pb-10">
    <div class="max-w-md mx-auto">
        <div class="card p-6 mb-6">
            <header class="mb-8">
                <h1 class="text-xl font-extrabold text-slate-900">ç­¾è¯ç”³è¯·é¢„æ£€ç™»è®°</h1>
                <p class="text-slate-400 text-xs mt-1 font-medium">è¯·å‹¾é€‰æ‚¨çš„çœŸå®æƒ…å†µï¼Œä»¥ä¾¿ä¸ºæ‚¨åŒ¹é…æ–¹æ¡ˆ</p>
            </header>

            <form id="visaForm" class="space-y-8">
                <!-- 1. äººæ•° -->
                <section>
                    <label class="block text-sm font-bold text-slate-700 mb-4 flex justify-between items-center">
                        <span class="flex items-center gap-2"><span class="w-1.5 h-4 bg-blue-600 rounded-full"></span>1. ç”³è¯·äººæ•°</span>
                        <span class="text-blue-600 bg-blue-50 px-3 py-1 rounded-full text-xs" id="pNum">1äºº</span>
                    </label>
                    <input type="range" id="pCount" min="1" max="8" value="1" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer">
                    <div class="flex justify-between text-[10px] text-slate-400 mt-2 px-1 font-medium">
                        <span>1äºº</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8äºº+</span>
                    </div>
                </section>

                <!-- 2. ç›®çš„ -->
                <section>
                    <label class="block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2">
                        <span class="w-1.5 h-4 bg-blue-600 rounded-full"></span>2. è®¿é—®ç›®çš„ & ç±»å‹
                    </label>
                    <div class="grid grid-cols-2 gap-2 mb-3" id="purpose">
                        <button type="button" class="opt-btn p-3 rounded-xl text-sm" data-val="æ—…æ¸¸">æ™®é€šæ—…æ¸¸</button>
                        <button type="button" class="opt-btn p-3 rounded-xl text-sm" data-val="æ¢äº²/è®¿å‹">æ¢äº²/è®¿å‹</button>
                        <button type="button" class="opt-btn p-3 rounded-xl text-sm" data-val="å•†åŠ¡è€ƒå¯Ÿ">å•†åŠ¡è€ƒå¯Ÿ</button>
                        <button type="button" class="opt-btn p-3 rounded-xl text-sm" data-val="ç•™å­¦/æ¸¸å­¦">ç•™å­¦/æ¸¸å­¦</button>
                    </div>
                    <div class="bg-slate-50 p-3 rounded-xl flex items-center justify-between border border-slate-100">
                        <span class="text-[11px] text-slate-500 font-bold">æ˜¯å¦æœ‰é‚€è¯·æ–¹ï¼Ÿ</span>
                        <div class="flex gap-2" id="hasInviter">
                            <button type="button" class="opt-btn px-4 py-1 rounded-lg text-xs" data-val="æœ‰é‚€è¯·æ–¹">æœ‰</button>
                            <button type="button" class="opt-btn px-4 py-1 rounded-lg text-xs" data-val="æ— é‚€è¯·æ–¹">æ— </button>
                        </div>
                    </div>
                </section>

                <!-- 3. å‡ºå…¥å¢ƒè®°å½•ï¼ˆæ ¸å¿ƒä¿®æ”¹ï¼šå¤šé€‰/æ»‘åŠ¨æ„Ÿï¼‰ -->
                <section>
                    <label class="block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2">
                        <span class="w-1.5 h-4 bg-blue-600 rounded-full"></span>3. æ›¾è·ç­¾/å»è¿‡çš„å›½å®¶ (å¤šé€‰)
                    </label>
                    <div class="grid grid-cols-3 gap-2" id="travelHistory">
                        <button type="button" class="multi-btn py-2 rounded-lg text-[11px]" data-val="ç¾å›½">ç¾å›½</button>
                        <button type="button" class="multi-btn py-2 rounded-lg text-[11px]" data-val="åŠ æ‹¿å¤§">åŠ æ‹¿å¤§</button>
                        <button type="button" class="multi-btn py-2 rounded-lg text-[11px]" data-val="æ¾³å¤§åˆ©äºš">æ¾³å¤§åˆ©äºš</button>
                        <button type="button" class="multi-btn py-2 rounded-lg text-[11px]" data-val="æ–°è¥¿å…°">æ–°è¥¿å…°</button>
                        <button type="button" class="multi-btn py-2 rounded-lg text-[11px]" data-val="è‹±å›½">è‹±å›½</button>
                        <button type="button" class="multi-btn py-2 rounded-lg text-[11px]" data-val="ç”³æ ¹å›½">ç”³æ ¹å›½</button>
                        <button type="button" class="multi-btn py-2 rounded-lg text-[11px]" data-val="æ—¥éŸ©">æ—¥/éŸ©</button>
                        <button type="button" class="multi-btn py-2 rounded-lg text-[11px]" data-val="ä¸œå—äºš">ä¸œå—äºš</button>
                        <button type="button" class="multi-btn py-2 rounded-lg text-[11px]" data-val="æ— å‡ºå¢ƒè®°å½•">æ— å‡ºå¢ƒå²</button>
                    </div>

                    <div class="mt-4 p-4 bg-red-50 rounded-xl border border-red-100">
                        <p class="text-[11px] text-red-600 mb-2 font-bold">æ˜¯å¦æœ‰ä»»ä½•æ‹’ç­¾è®°å½•ï¼Ÿ</p>
                        <div class="flex gap-2" id="refusal">
                            <button type="button" class="opt-btn flex-1 py-2 rounded-lg text-xs" data-val="æœ‰æ‹’ç­¾å²">æ˜¯</button>
                            <button type="button" class="opt-btn flex-1 py-2 rounded-lg text-xs" data-val="æ— æ‹’ç­¾å²">å¦</button>
                        </div>
                        <input type="text" id="refusalDetail" placeholder="å“ªå›½/ä½•æ—¶/åŸå› " class="hidden mt-3 w-full p-3 text-xs bg-white border border-red-200 rounded-xl outline-none focus:ring-1 ring-red-400">
                    </div>
                </section>

                <!-- 4. èº«ä»½ (å¸¦å¡«ç©º) -->
                <section>
                    <label class="block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2">
                        <span class="w-1.5 h-4 bg-blue-600 rounded-full"></span>4. ç›®å‰èº«ä»½çŠ¶æ€
                    </label>
                    <div class="grid grid-cols-2 gap-2" id="jobStatus">
                        <button type="button" class="opt-btn py-3 rounded-xl text-xs" data-val="åœ¨èŒäººå‘˜">åœ¨èŒäººå‘˜</button>
                        <button type="button" class="opt-btn py-3 rounded-xl text-xs" data-val="ä¼ä¸šä¸»/è‡ªé›‡">ä¼ä¸šä¸»/è‡ªé›‡</button>
                        <button type="button" class="opt-btn py-3 rounded-xl text-xs" data-val="é€€ä¼‘äººå‘˜">é€€ä¼‘äººå‘˜</button>
                        <button type="button" class="opt-btn py-3 rounded-xl text-xs" data-val="å­¦ç”Ÿ">å­¦ç”Ÿ</button>
                        <button type="button" class="opt-btn py-3 rounded-xl text-xs" data-val="è‡ªç”±èŒä¸š">è‡ªç”±èŒä¸š</button>
                        <button type="button" class="opt-btn py-3 rounded-xl text-xs" data-val="å…¶ä»–">å…¶ä»–</button>
                    </div>
                    <input type="text" id="jobOtherDetail" placeholder="è¯·å…·ä½“è¯´æ˜èº«ä»½æƒ…å†µ" class="hidden mt-3 w-full p-3 text-xs bg-white border border-slate-200 rounded-xl outline-none focus:border-blue-400">
                </section>

                <!-- 5. èµ„é‡‘æ¥æº (å¤šé€‰ & ç»†åˆ†) -->
                <section>
                    <label class="block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2">
                        <span class="w-1.5 h-4 bg-blue-600 rounded-full"></span>5. èµ„é‡‘/æ”¶å…¥æ¥æº (å¤šé€‰)
                    </label>
                    <div class="grid grid-cols-2 gap-2" id="fundSources">
                        <button type="button" class="multi-btn py-3 rounded-xl text-xs" data-val="å·¥èµ„å¡æµæ°´">å·¥èµ„å¡æµæ°´</button>
                        <button type="button" class="multi-btn py-3 rounded-xl text-xs" data-val="ä¸ªäººç”Ÿæ„æµæ°´">ä¸ªäººç”Ÿæ„æµæ°´</button>
                        <button type="button" class="multi-btn py-3 rounded-xl text-xs" data-val="å…¬å¸åä¸‹åˆ†çº¢">å…¬å¸åä¸‹åˆ†çº¢</button>
                        <button type="button" class="multi-btn py-3 rounded-xl text-xs" data-val="æˆ¿äº§ç§Ÿé‡‘æ”¶å…¥">æˆ¿äº§ç§Ÿé‡‘æ”¶å…¥</button>
                        <button type="button" class="multi-btn py-3 rounded-xl text-xs" data-val="è‚¡ç¥¨/åŸºé‡‘ç†è´¢">è‚¡ç¥¨/åŸºé‡‘ç†è´¢</button>
                        <button type="button" class="multi-btn py-3 rounded-xl text-xs" data-val="çˆ¶æ¯/é…å¶æ”¯æŒ">çˆ¶æ¯/é…å¶æ”¯æŒ</button>
                        <button type="button" class="multi-btn py-3 rounded-xl text-xs" data-val="é€€ä¼‘é‡‘/ç¤¾ä¿">é€€ä¼‘é‡‘/ç¤¾ä¿</button>
                        <button type="button" class="multi-btn py-3 rounded-xl text-xs" data-val="å¤§é¢å­˜æ¬¾/èµ„äº§">å¤§é¢å­˜æ¬¾/èµ„äº§</button>
                    </div>
                </section>

                <div class="sticky-bar">
                    <button type="button" id="copyBtn" class="w-full bg-slate-900 text-white font-bold py-4 rounded-2xl shadow-xl active:scale-95 transition-transform">
                        å¡«å¥½äº†ï¼Œå¤åˆ¶ä¿¡æ¯
                    </button>
                </div>
            </form>
        </div>
        <footer class="text-center text-slate-400 text-[10px] pb-6 font-medium italic">
            &copy; ç­¾è¯ä¸“å®¶æœåŠ¡ Â· æ‚¨çš„ä¿¡æ¯å·²åŠ å¯†ä¿æŠ¤
        </footer>
    </div>

    <!-- Toast -->
    <div id="toast" class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-slate-800/95 text-white px-8 py-5 rounded-3xl hidden z-50 text-center shadow-2xl">
        <div class="text-2xl mb-2">ğŸ“‹</div>
        <p class="text-sm font-bold">å·²æˆåŠŸå¤åˆ¶</p>
        <p class="text-[10px] mt-1 opacity-60 italic">è¯·è¿”å›å¾®ä¿¡ç²˜è´´å‘é€ç»™æˆ‘</p>
    </div>

    <script>
        // æ»‘åŠ¨æ¡æ§åˆ¶
        const pS = document.getElementById('pCount'), pL = document.getElementById('pNum');
        pS.oninput = () => pL.innerText = pS.value >= 8 ? '8äººä»¥ä¸Š' : pS.value + 'äºº';

        // å•é€‰é€»è¾‘
        function setupSingle(id) {
            const container = document.getElementById(id);
            container.querySelectorAll('button').forEach(btn => {
                btn.onclick = () => {
                    container.querySelectorAll('button').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    if(id === 'refusal') document.getElementById('refusalDetail').classList.toggle('hidden', btn.dataset.val.includes('æ— '));
                    if(id === 'jobStatus') document.getElementById('jobOtherDetail').classList.toggle('hidden', btn.dataset.val !== 'å…¶ä»–');
                }
            });
        }

        // å¤šé€‰é€»è¾‘
        function setupMulti(id) {
            const container = document.getElementById(id);
            container.querySelectorAll('button').forEach(btn => {
                btn.onclick = () => {
                    btn.classList.toggle('selected');
                }
            });
        }

        ['purpose', 'hasInviter', 'refusal', 'jobStatus'].forEach(setupSingle);
        ['travelHistory', 'fundSources'].forEach(setupMulti);

        // æ±‡æ€»å¤åˆ¶
        document.getElementById('copyBtn').onclick = function() {
            const getS = (id) => {
                const el = document.querySelector(`#${id} .active`);
                return el ? el.dataset.val : 'æœªé€‰';
            };
            const getM = (id) => {
                const selected = Array.from(document.querySelectorAll(`#${id} .selected`)).map(el => el.dataset.val);
                return selected.length > 0 ? selected.join('ã€') : 'æ— ';
            };

            let out = `ã€ç­¾è¯ç”³è¯·è¯¦ç»†å’¨è¯¢å•ã€‘\n`;
            out += `1. ç”³è¯·äººæ•°ï¼š${pL.innerText}\n`;
            out += `2. è®¿é—®ç›®çš„ï¼š${getS('purpose')} (${getS('hasInviter')})\n`;
            out += `3. æ›¾è·ç­¾/å»è¿‡å›½å®¶ï¼š${getM('travelHistory')}\n`;
            out += `4. æ‹’ç­¾å²ï¼š${getS('refusal')}`;
            if(getS('refusal').includes('æœ‰')) out += ` (è¯¦æƒ…ï¼š${document.getElementById('refusalDetail').value})`;
            out += `\n5. ç›®å‰èº«ä»½çŠ¶å†µï¼š${getS('jobStatus')}`;
            if(getS('jobStatus') === 'å…¶ä»–') out += ` (${document.getElementById('jobOtherDetail').value})`;
            out += `\n6. èµ„é‡‘/æ”¶å…¥æ¥æºï¼š${getM('fundSources')}\n`;
            out += `--------------------------\nå·²å¡«å†™å®Œæˆï¼Œè¯·ååŠ©è¯„ä¼°ã€‚`;

            const temp = document.createElement('textarea');
            temp.value = out; document.body.appendChild(temp); temp.select();
            document.execCommand('copy'); document.body.removeChild(temp);

            const toast = document.getElementById('toast');
            toast.classList.remove('hidden');
            setTimeout(() => toast.classList.add('hidden'), 2500);
        }
    </script>
</body>
</html>

